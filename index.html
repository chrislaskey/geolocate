<!DOCTYPE html>
<html>
<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

    <title>Geolocate</title>

    <link rel="stylesheet" href="static/css/main.css" type="text/css" media="all" charset="utf-8"/>

    <!-- Internet Explorer support for media queries -->
    <!--[if lt IE 9]>
        <script src="/site-wordpress/wp-content/themes/celest-responsive/javascript/respond.min.js"></script>
    <![endif]-->

    <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
    <script src="http://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
	<script src="http://maps.google.com/maps/api/js?sensor=true"></script>

    <script src="static/javascript/gmaps.js"></script>

    <script>

        $(function(){

			map = new GMaps({
				div: '#map',
				lat: 42.348349,
				lng: -71.098620,
			});

			GMaps.geolocate({
				success: function(position) {
					map.setCenter(position.coords.latitude, position.coords.longitude);
				},
				error: function(error) {
					alert('Geolocation failed: '+error.message);
				},
				not_supported: function() {
					alert("Your browser does not support geolocation");
				},
				always: function() {
					alert("Done!");
				},
				options: {
					//Passed to getCurrentPosition() as PositionOptions parameter:
					//https://developer.mozilla.org/en-US/docs/Web/API/PositionOptions
					enableHighAccuracy: true,
					timeout: 120000, // 2 minutes
					maximumAge: 5000
				}
			})();

        });

    </script>

    <style>

		#map {
			height: 600px;
			width: 600px;
		}

    </style>

</head>

<body>

<h1>Geolocate</h1>

<div id="map">

</div>

</body>
</html>
