{% extends "layouts/common.html" %}

{% block body %}
	<div class="ui three column stackable grid">
		<div class="column"></div>
		<div class="column">
			<div class="item">
				<h1>Register</h1>
				<div class="ui segment">
					{% include "partials/messages.html" %}
					<form action="{{ url_for_security('register') }}" method="POST" name="register_user_form" class="ui form">
						{% from "partials/login-macros.html" import render_field_with_errors, render_field %}
						{{ register_user_form.hidden_tag() }}
						{{ render_field_with_errors(register_user_form.email) }}
						{{ render_field_with_errors(register_user_form.screen_name) }}
						{{ render_field_with_errors(register_user_form.password) }}
						{% if register_user_form.password_confirm %}
							{{ render_field_with_errors(register_user_form.password_confirm) }}
						{% endif %}
						{{ render_field(register_user_form.submit) }}
					</form>
				</div>
			</div>
			<div class="item">
				{% include "partials/login-menu.html" %}
			</div>
		</div>
		<div class="column"></div>
	</div>

	<script>

		var styling = {};

		styling.email_field = function(){
			$('input#email')
				.wrap('<div class="ui left labeled icon input"></div>')
				.parent()
				.append('<i class="mail icon"></i>')
				.append('<div class="ui corner label"><i class="icon asterisk"></i></div>');
		}

		styling.screen_name_field = function(){
			$('input#screen_name')
				.wrap('<div class="ui left labeled icon input"></div>')
				.parent()
				.append('<i class="user icon"></i>')
				.append('<div class="ui corner label"><i class="icon asterisk"></i></div>');
		}

		styling.password_field = function(){
			$('input#password')
				.wrap('<div class="ui left labeled icon input"></div>')
				.parent()
				.append('<i class="lock icon"></i>')
				.append('<div class="ui corner label"><i class="icon asterisk"></i></div>');
		}

		styling.password_confirm_field = function(){
			$('input#password_confirm')
				.wrap('<div class="ui left labeled icon input"></div>')
				.parent()
				.append('<i class="lock icon"></i>')
				.append('<div class="ui corner label"><i class="icon asterisk"></i></div>');
		}

		styling.submit_field = function(){
			$('input#submit')
				.attr('class', 'ui blue submit button');
		}

		$(function(){
			styling.email_field();
			styling.screen_name_field();
			styling.password_field();
			styling.password_confirm_field();
			styling.submit_field();
		});

	</script>
{% endblock %}
